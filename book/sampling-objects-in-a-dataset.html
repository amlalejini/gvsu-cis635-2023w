<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 15 Sampling objects in a dataset | GVSU CIS 635 - Knowledge Discovery and Data Mining (Winter 2023)</title>
  <meta name="description" content="Chapter 15 Sampling objects in a dataset | GVSU CIS 635 - Knowledge Discovery and Data Mining (Winter 2023)" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 15 Sampling objects in a dataset | GVSU CIS 635 - Knowledge Discovery and Data Mining (Winter 2023)" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="amlalejini/gvsu-cis635-2023w" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 15 Sampling objects in a dataset | GVSU CIS 635 - Knowledge Discovery and Data Mining (Winter 2023)" />
  
  
  

<meta name="author" content="Instructor: Dr. Alexander Lalejini" />


<meta name="date" content="2023-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dealing-with-missing-values.html"/>
<link rel="next" href="curse-of-dimensionality-demo.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CIS 635 (Winter 2023)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>Week 01</b></span></li>
<li class="chapter" data-level="2" data-path="homework-1.html"><a href="homework-1.html"><i class="fa fa-check"></i><b>2</b> Homework 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="homework-1.html"><a href="homework-1.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="homework-1.html"><a href="homework-1.html#objectives"><i class="fa fa-check"></i><b>2.1.1</b> Objectives</a></li>
<li class="chapter" data-level="2.1.2" data-path="homework-1.html"><a href="homework-1.html#grading"><i class="fa fa-check"></i><b>2.1.2</b> Grading</a></li>
<li class="chapter" data-level="2.1.3" data-path="homework-1.html"><a href="homework-1.html#deliverables"><i class="fa fa-check"></i><b>2.1.3</b> Deliverables</a></li>
<li class="chapter" data-level="2.1.4" data-path="homework-1.html"><a href="homework-1.html#formatting"><i class="fa fa-check"></i><b>2.1.4</b> Formatting</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="homework-1.html"><a href="homework-1.html#part-a.-syllabus"><i class="fa fa-check"></i><b>2.2</b> Part A. Syllabus</a></li>
<li class="chapter" data-level="2.3" data-path="homework-1.html"><a href="homework-1.html#part-b.-attribute-descriptions"><i class="fa fa-check"></i><b>2.3</b> Part B. Attribute descriptions</a></li>
<li class="chapter" data-level="2.4" data-path="homework-1.html"><a href="homework-1.html#part-c.-thinking-about-common-data-mining-applications"><i class="fa fa-check"></i><b>2.4</b> Part C. Thinking about common data mining applications</a></li>
</ul></li>
<li class="part"><span><b>Week 02</b></span></li>
<li class="chapter" data-level="3" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html"><i class="fa fa-check"></i><b>3</b> Getting Started with R Markdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#dependencies"><i class="fa fa-check"></i><b>3.1</b> Dependencies</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#installing-r-packages"><i class="fa fa-check"></i><b>3.1.1</b> Installing R packages</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#create-a-new-r-markdown-document-in-rstudio"><i class="fa fa-check"></i><b>3.2</b> Create a new R Markdown document in RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#anatomy-of-an-r-markdown-document"><i class="fa fa-check"></i><b>3.3</b> Anatomy of an R Markdown document</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#frontmatter-metadata"><i class="fa fa-check"></i><b>3.3.1</b> Frontmatter (metadata)</a></li>
<li class="chapter" data-level="3.3.2" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#text"><i class="fa fa-check"></i><b>3.3.2</b> Text</a></li>
<li class="chapter" data-level="3.3.3" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#code"><i class="fa fa-check"></i><b>3.3.3</b> Code</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#knitting"><i class="fa fa-check"></i><b>3.4</b> “Knitting”</a></li>
<li class="chapter" data-level="3.5" data-path="getting-started-with-r-markdown.html"><a href="getting-started-with-r-markdown.html#resources"><i class="fa fa-check"></i><b>3.5</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="homework-2.html"><a href="homework-2.html"><i class="fa fa-check"></i><b>4</b> Homework 2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="homework-2.html"><a href="homework-2.html#overview-1"><i class="fa fa-check"></i><b>4.1</b> Overview</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="homework-2.html"><a href="homework-2.html#grading-1"><i class="fa fa-check"></i><b>4.1.1</b> Grading</a></li>
<li class="chapter" data-level="4.1.2" data-path="homework-2.html"><a href="homework-2.html#deliverables-1"><i class="fa fa-check"></i><b>4.1.2</b> Deliverables</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="homework-2.html"><a href="homework-2.html#setup"><i class="fa fa-check"></i><b>4.2</b> Setup</a></li>
<li class="chapter" data-level="4.3" data-path="homework-2.html"><a href="homework-2.html#part-a.-use-r-as-a-calculator"><i class="fa fa-check"></i><b>4.3</b> Part A. Use R as a calculator</a></li>
<li class="chapter" data-level="4.4" data-path="homework-2.html"><a href="homework-2.html#part-b.-built-in-functions"><i class="fa fa-check"></i><b>4.4</b> Part B. Built-in Functions</a></li>
<li class="chapter" data-level="4.5" data-path="homework-2.html"><a href="homework-2.html#part-c.-creating-vectors"><i class="fa fa-check"></i><b>4.5</b> Part C. Creating vectors</a></li>
<li class="chapter" data-level="4.6" data-path="homework-2.html"><a href="homework-2.html#part-d.-subsetting-vectors"><i class="fa fa-check"></i><b>4.6</b> Part D. Subsetting vectors</a></li>
<li class="chapter" data-level="4.7" data-path="homework-2.html"><a href="homework-2.html#part-e.-types-of-data"><i class="fa fa-check"></i><b>4.7</b> Part E. Types of data</a></li>
</ul></li>
<li class="part"><span><b>Week 03</b></span></li>
<li class="chapter" data-level="5" data-path="week-03---overview.html"><a href="week-03---overview.html"><i class="fa fa-check"></i><b>5</b> Week 03 - Overview</a>
<ul>
<li class="chapter" data-level="5.1" data-path="week-03---overview.html"><a href="week-03---overview.html#dependencies-1"><i class="fa fa-check"></i><b>5.1</b> Dependencies</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions-in-r.html"><a href="functions-in-r.html"><i class="fa fa-check"></i><b>6</b> Functions in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions-in-r.html"><a href="functions-in-r.html#argument-order-and-default-values"><i class="fa fa-check"></i><b>6.1</b> Argument order and default values</a></li>
<li class="chapter" data-level="6.2" data-path="functions-in-r.html"><a href="functions-in-r.html#writing-your-own-functions"><i class="fa fa-check"></i><b>6.2</b> Writing your own functions</a></li>
<li class="chapter" data-level="6.3" data-path="functions-in-r.html"><a href="functions-in-r.html#return-values"><i class="fa fa-check"></i><b>6.3</b> Return values</a></li>
<li class="chapter" data-level="6.4" data-path="functions-in-r.html"><a href="functions-in-r.html#default-argument-values"><i class="fa fa-check"></i><b>6.4</b> Default argument values</a></li>
<li class="chapter" data-level="6.5" data-path="functions-in-r.html"><a href="functions-in-r.html#resources-1"><i class="fa fa-check"></i><b>6.5</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>7</b> Reading and Writing Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>7.1</b> Writing data</a></li>
<li class="chapter" data-level="7.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#loading-data"><i class="fa fa-check"></i><b>7.2</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>8</b> tidyverse</a></li>
<li class="chapter" data-level="9" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html"><i class="fa fa-check"></i><b>9</b> Using dplyr to manipulate data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#goals"><i class="fa fa-check"></i><b>9.1</b> Goals:</a></li>
<li class="chapter" data-level="9.2" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#sources"><i class="fa fa-check"></i><b>9.2</b> Sources:</a></li>
<li class="chapter" data-level="9.3" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#setup-1"><i class="fa fa-check"></i><b>9.3</b> Setup</a></li>
<li class="chapter" data-level="9.4" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#overview-2"><i class="fa fa-check"></i><b>9.4</b> Overview</a></li>
<li class="chapter" data-level="9.5" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#the-pipe-operator"><i class="fa fa-check"></i><b>9.5</b> The pipe operator</a></li>
<li class="chapter" data-level="9.6" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#data"><i class="fa fa-check"></i><b>9.6</b> Data</a></li>
<li class="chapter" data-level="9.7" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>9.7</b> Filter rows with <code>filter()</code></a></li>
<li class="chapter" data-level="9.8" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>9.8</b> Arrange rows with <code>arrange()</code></a></li>
<li class="chapter" data-level="9.9" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#choose-rows-using-their-position-with-slice"><i class="fa fa-check"></i><b>9.9</b> Choose rows using their position with <code>slice()</code></a></li>
<li class="chapter" data-level="9.10" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#select-columns-with-select"><i class="fa fa-check"></i><b>9.10</b> Select columns with <code>select()</code></a></li>
<li class="chapter" data-level="9.11" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#rename-columns-with-rename"><i class="fa fa-check"></i><b>9.11</b> Rename columns with <code>rename()</code></a></li>
<li class="chapter" data-level="9.12" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#add-new-columns-with-mutate"><i class="fa fa-check"></i><b>9.12</b> Add new columns with <code>mutate()</code></a></li>
<li class="chapter" data-level="9.13" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#change-column-order-with-relocate"><i class="fa fa-check"></i><b>9.13</b> Change column order with <code>relocate()</code></a></li>
<li class="chapter" data-level="9.14" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#summarize-groups-of-rows-using-summarise"><i class="fa fa-check"></i><b>9.14</b> Summarize groups of rows using <code>summarise()</code></a></li>
<li class="chapter" data-level="9.15" data-path="using-dplyr-to-manipulate-data.html"><a href="using-dplyr-to-manipulate-data.html#dplyr-cheat-sheet"><i class="fa fa-check"></i><b>9.15</b> dplyr cheat sheet</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html"><i class="fa fa-check"></i><b>10</b> Using tidyr to create tidy data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#setup-2"><i class="fa fa-check"></i><b>10.1</b> Setup</a></li>
<li class="chapter" data-level="10.2" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#overview-3"><i class="fa fa-check"></i><b>10.2</b> Overview</a></li>
<li class="chapter" data-level="10.3" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>10.3</b> What is tidy data?</a></li>
<li class="chapter" data-level="10.4" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#making-data-tidy"><i class="fa fa-check"></i><b>10.4</b> Making data tidy</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#column-headers-are-values-not-variables"><i class="fa fa-check"></i><b>10.4.1</b> Column headers are values, not variables</a></li>
<li class="chapter" data-level="10.4.2" data-path="using-tidyr-to-create-tidy-data.html"><a href="using-tidyr-to-create-tidy-data.html#multiple-variables-are-stored-in-one-column"><i class="fa fa-check"></i><b>10.4.2</b> Multiple variables are stored in one column</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="creating-graphics-with-ggplot2.html"><a href="creating-graphics-with-ggplot2.html"><i class="fa fa-check"></i><b>11</b> Creating graphics with ggplot2</a>
<ul>
<li class="chapter" data-level="11.1" data-path="creating-graphics-with-ggplot2.html"><a href="creating-graphics-with-ggplot2.html#resources-for-using-ggplot2"><i class="fa fa-check"></i><b>11.1</b> Resources for using ggplot2</a></li>
</ul></li>
<li class="part"><span><b>Week 04</b></span></li>
<li class="chapter" data-level="12" data-path="week-04---overview.html"><a href="week-04---overview.html"><i class="fa fa-check"></i><b>12</b> Week 04 - Overview</a></li>
<li class="chapter" data-level="13" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html"><i class="fa fa-check"></i><b>13</b> Simple denoising examples</a>
<ul>
<li class="chapter" data-level="13.1" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#generating-the-ground-truth"><i class="fa fa-check"></i><b>13.1</b> Generating the ground truth</a></li>
<li class="chapter" data-level="13.2" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#adding-some-noise"><i class="fa fa-check"></i><b>13.2</b> Adding some noise</a></li>
<li class="chapter" data-level="13.3" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#denoising-using-a-rolling-average"><i class="fa fa-check"></i><b>13.3</b> Denoising using a rolling average</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#exercises"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#denoising-using-a-median-filter"><i class="fa fa-check"></i><b>13.4</b> Denoising using a median filter</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#exercises-1"><i class="fa fa-check"></i><b>13.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="simple-denoising-examples.html"><a href="simple-denoising-examples.html#further-exploration"><i class="fa fa-check"></i><b>13.5</b> Further exploration</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html"><i class="fa fa-check"></i><b>14</b> Dealing with missing values</a>
<ul>
<li class="chapter" data-level="14.1" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#dependencies-and-setup"><i class="fa fa-check"></i><b>14.1</b> Dependencies and setup</a></li>
<li class="chapter" data-level="14.2" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#testing-for-missing-values"><i class="fa fa-check"></i><b>14.2</b> Testing for missing values</a></li>
<li class="chapter" data-level="14.3" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#dropping-columns-with-missing-values-feature-elimination"><i class="fa fa-check"></i><b>14.3</b> Dropping columns with missing values (feature elimination)</a></li>
<li class="chapter" data-level="14.4" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#dropping-rows-with-missing-values-object-elimination"><i class="fa fa-check"></i><b>14.4</b> Dropping rows with missing values (object elimination)</a></li>
<li class="chapter" data-level="14.5" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#mean-imputation"><i class="fa fa-check"></i><b>14.5</b> Mean imputation</a></li>
<li class="chapter" data-level="14.6" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#median-imputation"><i class="fa fa-check"></i><b>14.6</b> Median imputation</a></li>
<li class="chapter" data-level="14.7" data-path="dealing-with-missing-values.html"><a href="dealing-with-missing-values.html#exercises-2"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html"><i class="fa fa-check"></i><b>15</b> Sampling objects in a dataset</a>
<ul>
<li class="chapter" data-level="15.1" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html#dependencies-and-setup-1"><i class="fa fa-check"></i><b>15.1</b> Dependencies and setup</a></li>
<li class="chapter" data-level="15.2" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html#random-sampling"><i class="fa fa-check"></i><b>15.2</b> Random sampling</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html#exercises-3"><i class="fa fa-check"></i><b>15.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html#stratified-random-sampling"><i class="fa fa-check"></i><b>15.3</b> Stratified random sampling</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="sampling-objects-in-a-dataset.html"><a href="sampling-objects-in-a-dataset.html#exercises-4"><i class="fa fa-check"></i><b>15.3.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="curse-of-dimensionality-demo.html"><a href="curse-of-dimensionality-demo.html"><i class="fa fa-check"></i><b>16</b> Curse of dimensionality demo</a>
<ul>
<li class="chapter" data-level="16.1" data-path="curse-of-dimensionality-demo.html"><a href="curse-of-dimensionality-demo.html#dependencies-2"><i class="fa fa-check"></i><b>16.1</b> Dependencies</a></li>
<li class="chapter" data-level="16.2" data-path="curse-of-dimensionality-demo.html"><a href="curse-of-dimensionality-demo.html#generate-example-data"><i class="fa fa-check"></i><b>16.2</b> Generate example data</a></li>
<li class="chapter" data-level="16.3" data-path="curse-of-dimensionality-demo.html"><a href="curse-of-dimensionality-demo.html#exercises-5"><i class="fa fa-check"></i><b>16.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>17</b> Aggregation</a>
<ul>
<li class="chapter" data-level="17.1" data-path="aggregation.html"><a href="aggregation.html#dependencies-and-setup-2"><i class="fa fa-check"></i><b>17.1</b> Dependencies and setup</a></li>
<li class="chapter" data-level="17.2" data-path="aggregation.html"><a href="aggregation.html#exercise"><i class="fa fa-check"></i><b>17.2</b> Exercise</a></li>
<li class="chapter" data-level="17.3" data-path="aggregation.html"><a href="aggregation.html#using-dplyr-to-aggregate-objects-in-a-dataset-according-to-a-category"><i class="fa fa-check"></i><b>17.3</b> Using dplyr to aggregate objects in a dataset according to a category</a></li>
<li class="chapter" data-level="17.4" data-path="aggregation.html"><a href="aggregation.html#exercises-6"><i class="fa fa-check"></i><b>17.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="homework-3.html"><a href="homework-3.html"><i class="fa fa-check"></i><b>18</b> Homework 3</a>
<ul>
<li class="chapter" data-level="18.1" data-path="homework-3.html"><a href="homework-3.html#overview-4"><i class="fa fa-check"></i><b>18.1</b> Overview</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="homework-3.html"><a href="homework-3.html#objectives-1"><i class="fa fa-check"></i><b>18.1.1</b> Objectives</a></li>
<li class="chapter" data-level="18.1.2" data-path="homework-3.html"><a href="homework-3.html#grading-2"><i class="fa fa-check"></i><b>18.1.2</b> Grading</a></li>
<li class="chapter" data-level="18.1.3" data-path="homework-3.html"><a href="homework-3.html#deliverables-2"><i class="fa fa-check"></i><b>18.1.3</b> Deliverables</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="homework-3.html"><a href="homework-3.html#setup-3"><i class="fa fa-check"></i><b>18.2</b> Setup</a></li>
<li class="chapter" data-level="18.3" data-path="homework-3.html"><a href="homework-3.html#part-a.-loading-data-in-r"><i class="fa fa-check"></i><b>18.3</b> Part A. Loading data in R</a></li>
<li class="chapter" data-level="18.4" data-path="homework-3.html"><a href="homework-3.html#part-b.-visualizing-data-with-ggplot2"><i class="fa fa-check"></i><b>18.4</b> Part B. Visualizing data with ggplot2</a></li>
</ul></li>
<li class="part"><span><b>Final Project</b></span></li>
<li class="chapter" data-level="19" data-path="final-project-overview.html"><a href="final-project-overview.html"><i class="fa fa-check"></i><b>19</b> Final project overview</a>
<ul>
<li class="chapter" data-level="19.1" data-path="final-project-overview.html"><a href="final-project-overview.html#problem-statement"><i class="fa fa-check"></i><b>19.1</b> Problem statement</a></li>
<li class="chapter" data-level="19.2" data-path="final-project-overview.html"><a href="final-project-overview.html#learning-objectives"><i class="fa fa-check"></i><b>19.2</b> Learning objectives</a></li>
<li class="chapter" data-level="19.3" data-path="final-project-overview.html"><a href="final-project-overview.html#groups"><i class="fa fa-check"></i><b>19.3</b> Groups</a></li>
<li class="chapter" data-level="19.4" data-path="final-project-overview.html"><a href="final-project-overview.html#grading-3"><i class="fa fa-check"></i><b>19.4</b> Grading</a></li>
<li class="chapter" data-level="19.5" data-path="final-project-overview.html"><a href="final-project-overview.html#timeline"><i class="fa fa-check"></i><b>19.5</b> Timeline</a></li>
<li class="chapter" data-level="19.6" data-path="final-project-overview.html"><a href="final-project-overview.html#possible-project-ideas"><i class="fa fa-check"></i><b>19.6</b> Possible project ideas</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="final-project---proposal.html"><a href="final-project---proposal.html"><i class="fa fa-check"></i><b>20</b> Final project - Proposal</a>
<ul>
<li class="chapter" data-level="20.1" data-path="final-project---proposal.html"><a href="final-project---proposal.html#project-expectations"><i class="fa fa-check"></i><b>20.1</b> Project expectations</a></li>
<li class="chapter" data-level="20.2" data-path="final-project---proposal.html"><a href="final-project---proposal.html#proposal-guidelines"><i class="fa fa-check"></i><b>20.2</b> Proposal guidelines</a></li>
<li class="chapter" data-level="20.3" data-path="final-project---proposal.html"><a href="final-project---proposal.html#grading-4"><i class="fa fa-check"></i><b>20.3</b> Grading</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="final-project---mid-project-update.html"><a href="final-project---mid-project-update.html"><i class="fa fa-check"></i><b>21</b> Final project - Mid-project update</a>
<ul>
<li class="chapter" data-level="21.1" data-path="final-project---mid-project-update.html"><a href="final-project---mid-project-update.html#requirements"><i class="fa fa-check"></i><b>21.1</b> Requirements</a></li>
<li class="chapter" data-level="21.2" data-path="final-project---mid-project-update.html"><a href="final-project---mid-project-update.html#grading-5"><i class="fa fa-check"></i><b>21.2</b> Grading</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="final-project---report-draft.html"><a href="final-project---report-draft.html"><i class="fa fa-check"></i><b>22</b> Final project - Report draft</a>
<ul>
<li class="chapter" data-level="22.1" data-path="final-project---report-draft.html"><a href="final-project---report-draft.html#grading-6"><i class="fa fa-check"></i><b>22.1</b> Grading</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="final-project---final-report.html"><a href="final-project---final-report.html"><i class="fa fa-check"></i><b>23</b> Final project - Final report</a>
<ul>
<li class="chapter" data-level="23.1" data-path="final-project---final-report.html"><a href="final-project---final-report.html#format"><i class="fa fa-check"></i><b>23.1</b> Format</a></li>
<li class="chapter" data-level="23.2" data-path="final-project---final-report.html"><a href="final-project---final-report.html#contents"><i class="fa fa-check"></i><b>23.2</b> Contents</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="final-project---final-report.html"><a href="final-project---final-report.html#introduction-1"><i class="fa fa-check"></i><b>23.2.1</b> Introduction</a></li>
<li class="chapter" data-level="23.2.2" data-path="final-project---final-report.html"><a href="final-project---final-report.html#related-work"><i class="fa fa-check"></i><b>23.2.2</b> Related work</a></li>
<li class="chapter" data-level="23.2.3" data-path="final-project---final-report.html"><a href="final-project---final-report.html#methods"><i class="fa fa-check"></i><b>23.2.3</b> Methods</a></li>
<li class="chapter" data-level="23.2.4" data-path="final-project---final-report.html"><a href="final-project---final-report.html#results-and-discussion"><i class="fa fa-check"></i><b>23.2.4</b> Results and discussion</a></li>
<li class="chapter" data-level="23.2.5" data-path="final-project---final-report.html"><a href="final-project---final-report.html#conclusion"><i class="fa fa-check"></i><b>23.2.5</b> Conclusion</a></li>
<li class="chapter" data-level="23.2.6" data-path="final-project---final-report.html"><a href="final-project---final-report.html#data-and-software-availability"><i class="fa fa-check"></i><b>23.2.6</b> Data and software availability</a></li>
<li class="chapter" data-level="23.2.7" data-path="final-project---final-report.html"><a href="final-project---final-report.html#references"><i class="fa fa-check"></i><b>23.2.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="final-project---final-report.html"><a href="final-project---final-report.html#deliverables-3"><i class="fa fa-check"></i><b>23.3</b> Deliverables</a></li>
<li class="chapter" data-level="23.4" data-path="final-project---final-report.html"><a href="final-project---final-report.html#grading-7"><i class="fa fa-check"></i><b>23.4</b> Grading</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with ❤ and bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GVSU CIS 635 - Knowledge Discovery and Data Mining (Winter 2023)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sampling-objects-in-a-dataset" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">Chapter 15</span> Sampling objects in a dataset<a href="sampling-objects-in-a-dataset.html#sampling-objects-in-a-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this lab activity, we will demonstrate two methods of sampling objects in a dataset:</p>
<ul>
<li>Naive random sampling</li>
<li>Stratified random sampling</li>
</ul>
<p>Sampling is a common method of dealing with a huge number of objects/observations in a dataset.</p>
<div id="dependencies-and-setup-1" class="section level2 hasAnchor" number="15.1">
<h2><span class="header-section-number">15.1</span> Dependencies and setup<a href="sampling-objects-in-a-dataset.html#dependencies-and-setup-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this activity, we’ll be using the following R packages:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="sampling-objects-in-a-dataset.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>We’ll sample from our handy-dandy Star Wars data set:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="sampling-objects-in-a-dataset.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(starwars)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 14
##   name         height  mass hair_…¹ skin_…² eye_c…³ birth…⁴ sex   gender homew…⁵
##   &lt;chr&gt;         &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  
## 1 Luke Skywal…    172    77 blond   fair    blue       19   male  mascu… Tatooi…
## 2 C-3PO           167    75 &lt;NA&gt;    gold    yellow    112   none  mascu… Tatooi…
## 3 R2-D2            96    32 &lt;NA&gt;    white,… red        33   none  mascu… Naboo  
## 4 Darth Vader     202   136 none    white   yellow     41.9 male  mascu… Tatooi…
## 5 Leia Organa     150    49 brown   light   brown      19   fema… femin… Aldera…
## 6 Owen Lars       178   120 brown,… light   blue       52   male  mascu… Tatooi…
## # … with 4 more variables: species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;,
## #   starships &lt;list&gt;, and abbreviated variable names ¹​hair_color, ²​skin_color,
## #   ³​eye_color, ⁴​birth_year, ⁵​homeworld</code></pre>
</div>
<div id="random-sampling" class="section level2 hasAnchor" number="15.2">
<h2><span class="header-section-number">15.2</span> Random sampling<a href="sampling-objects-in-a-dataset.html#random-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In naive random sampling, we simply randomly sample rows from our dataset.
In this example, we’ll sample without replacement: we don’t want to characters more than once in our down-sampled dataset.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="sampling-objects-in-a-dataset.html#cb138-1" aria-hidden="true" tabindex="-1"></a>sample_proportion <span class="ot">&lt;-</span> <span class="fl">0.2</span> <span class="co"># Down-sample down to just this % of our full data set</span></span>
<span id="cb138-2"><a href="sampling-objects-in-a-dataset.html#cb138-2" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(sample_proportion <span class="sc">*</span> <span class="fu">nrow</span>(starwars)) <span class="co"># Sample size, round up.</span></span></code></pre></div>
<p>We can use <code>slice_sample</code> from the <code>dplyr</code> package to randomly sample star wars characters.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="sampling-objects-in-a-dataset.html#cb139-1" aria-hidden="true" tabindex="-1"></a>naive_sampled_data <span class="ot">&lt;-</span> starwars <span class="sc">%&gt;%</span></span>
<span id="cb139-2"><a href="sampling-objects-in-a-dataset.html#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(</span>
<span id="cb139-3"><a href="sampling-objects-in-a-dataset.html#cb139-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span>sample_size,</span>
<span id="cb139-4"><a href="sampling-objects-in-a-dataset.html#cb139-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace=</span><span class="cn">FALSE</span></span>
<span id="cb139-5"><a href="sampling-objects-in-a-dataset.html#cb139-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-6"><a href="sampling-objects-in-a-dataset.html#cb139-6" aria-hidden="true" tabindex="-1"></a>naive_sampled_data</span></code></pre></div>
<pre><code>## # A tibble: 18 × 14
##    name        height  mass hair_…¹ skin_…² eye_c…³ birth…⁴ sex   gender homew…⁵
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  
##  1 Ackbar         180  83   none    brown … orange     41   male  mascu… Mon Ca…
##  2 Eeth Koth      171  NA   black   brown   brown      NA   male  mascu… Iridon…
##  3 Darth Vader    202 136   none    white   yellow     41.9 male  mascu… Tatooi…
##  4 Jek Tono P…    180 110   brown   fair    blue       NA   male  mascu… Bestin…
##  5 Poggle the…    183  80   none    green   yellow     NA   male  mascu… Geonos…
##  6 Dexter Jet…    198 102   none    brown   yellow     NA   male  mascu… Ojom   
##  7 Bail Prest…    191  NA   black   tan     brown      67   male  mascu… Aldera…
##  8 Plo Koon       188  80   none    orange  black      22   male  mascu… Dorin  
##  9 Boba Fett      183  78.2 black   fair    brown      31.5 male  mascu… Kamino 
## 10 Leia Organa    150  49   brown   light   brown      19   fema… femin… Aldera…
## 11 Ratts Tyer…     79  15   none    grey, … unknown    NA   male  mascu… Aleen …
## 12 Arvel Cryn…     NA  NA   brown   fair    brown      NA   male  mascu… &lt;NA&gt;   
## 13 Roos Tarpa…    224  82   none    grey    orange     NA   male  mascu… Naboo  
## 14 Yarael Poof    264  NA   none    white   yellow     NA   male  mascu… Quermia
## 15 Qui-Gon Ji…    193  89   brown   fair    blue       92   male  mascu… &lt;NA&gt;   
## 16 BB8             NA  NA   none    none    black      NA   none  mascu… &lt;NA&gt;   
## 17 Luke Skywa…    172  77   blond   fair    blue       19   male  mascu… Tatooi…
## 18 Bossk          190 113   none    green   red        53   male  mascu… Trando…
## # … with 4 more variables: species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;,
## #   starships &lt;list&gt;, and abbreviated variable names ¹​hair_color, ²​skin_color,
## #   ³​eye_color, ⁴​birth_year, ⁵​homeworld</code></pre>
<p>Take a look at <code>naive_sampled_data</code>.
What are some ways that our random sample might not be representative of our larger data set (<code>starwars</code>)?</p>
<p>For example, we can look at the distribution of homeworlds in our original data.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="sampling-objects-in-a-dataset.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distribution of homeworlds in full dataset.</span></span>
<span id="cb141-2"><a href="sampling-objects-in-a-dataset.html#cb141-2" aria-hidden="true" tabindex="-1"></a>orig_homeworlds <span class="ot">&lt;-</span> starwars <span class="sc">%&gt;%</span></span>
<span id="cb141-3"><a href="sampling-objects-in-a-dataset.html#cb141-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(</span>
<span id="cb141-4"><a href="sampling-objects-in-a-dataset.html#cb141-4" aria-hidden="true" tabindex="-1"></a>    homeworld</span>
<span id="cb141-5"><a href="sampling-objects-in-a-dataset.html#cb141-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-6"><a href="sampling-objects-in-a-dataset.html#cb141-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb141-7"><a href="sampling-objects-in-a-dataset.html#cb141-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>()</span>
<span id="cb141-8"><a href="sampling-objects-in-a-dataset.html#cb141-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-9"><a href="sampling-objects-in-a-dataset.html#cb141-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb141-10"><a href="sampling-objects-in-a-dataset.html#cb141-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">freq =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb141-11"><a href="sampling-objects-in-a-dataset.html#cb141-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-12"><a href="sampling-objects-in-a-dataset.html#cb141-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(</span>
<span id="cb141-13"><a href="sampling-objects-in-a-dataset.html#cb141-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">desc</span>(freq)</span>
<span id="cb141-14"><a href="sampling-objects-in-a-dataset.html#cb141-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb141-15"><a href="sampling-objects-in-a-dataset.html#cb141-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-16"><a href="sampling-objects-in-a-dataset.html#cb141-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the distribution of homeworlds in the sampled dataset.</span></span>
<span id="cb141-17"><a href="sampling-objects-in-a-dataset.html#cb141-17" aria-hidden="true" tabindex="-1"></a>sampled_homeworlds <span class="ot">&lt;-</span> naive_sampled_data <span class="sc">%&gt;%</span></span>
<span id="cb141-18"><a href="sampling-objects-in-a-dataset.html#cb141-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(</span>
<span id="cb141-19"><a href="sampling-objects-in-a-dataset.html#cb141-19" aria-hidden="true" tabindex="-1"></a>    homeworld</span>
<span id="cb141-20"><a href="sampling-objects-in-a-dataset.html#cb141-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-21"><a href="sampling-objects-in-a-dataset.html#cb141-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb141-22"><a href="sampling-objects-in-a-dataset.html#cb141-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>()</span>
<span id="cb141-23"><a href="sampling-objects-in-a-dataset.html#cb141-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-24"><a href="sampling-objects-in-a-dataset.html#cb141-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb141-25"><a href="sampling-objects-in-a-dataset.html#cb141-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">freq =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb141-26"><a href="sampling-objects-in-a-dataset.html#cb141-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb141-27"><a href="sampling-objects-in-a-dataset.html#cb141-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(</span>
<span id="cb141-28"><a href="sampling-objects-in-a-dataset.html#cb141-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">desc</span>(freq)</span>
<span id="cb141-29"><a href="sampling-objects-in-a-dataset.html#cb141-29" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Let’s take a look at the distribution of homeworlds from the original dataset:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="sampling-objects-in-a-dataset.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb142-2"><a href="sampling-objects-in-a-dataset.html#cb142-2" aria-hidden="true" tabindex="-1"></a>    orig_homeworlds,</span>
<span id="cb142-3"><a href="sampling-objects-in-a-dataset.html#cb142-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb142-4"><a href="sampling-objects-in-a-dataset.html#cb142-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">x=</span><span class="fu">reorder</span>(homeworld, <span class="sc">-</span>freq),</span>
<span id="cb142-5"><a href="sampling-objects-in-a-dataset.html#cb142-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">y=</span>freq</span>
<span id="cb142-6"><a href="sampling-objects-in-a-dataset.html#cb142-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb142-7"><a href="sampling-objects-in-a-dataset.html#cb142-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb142-8"><a href="sampling-objects-in-a-dataset.html#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb142-9"><a href="sampling-objects-in-a-dataset.html#cb142-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb142-10"><a href="sampling-objects-in-a-dataset.html#cb142-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">&quot;Homeworld&quot;</span>,</span>
<span id="cb142-11"><a href="sampling-objects-in-a-dataset.html#cb142-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb142-12"><a href="sampling-objects-in-a-dataset.html#cb142-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Distribution of homeworlds for original dataset&quot;</span></span>
<span id="cb142-13"><a href="sampling-objects-in-a-dataset.html#cb142-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb142-14"><a href="sampling-objects-in-a-dataset.html#cb142-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb142-15"><a href="sampling-objects-in-a-dataset.html#cb142-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust=</span><span class="dv">1</span>)</span>
<span id="cb142-16"><a href="sampling-objects-in-a-dataset.html#cb142-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="demo_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>And now the sampled dataset:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="sampling-objects-in-a-dataset.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb143-2"><a href="sampling-objects-in-a-dataset.html#cb143-2" aria-hidden="true" tabindex="-1"></a>    sampled_homeworlds,</span>
<span id="cb143-3"><a href="sampling-objects-in-a-dataset.html#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb143-4"><a href="sampling-objects-in-a-dataset.html#cb143-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">x=</span><span class="fu">reorder</span>(homeworld, <span class="sc">-</span>freq),</span>
<span id="cb143-5"><a href="sampling-objects-in-a-dataset.html#cb143-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">y=</span>freq</span>
<span id="cb143-6"><a href="sampling-objects-in-a-dataset.html#cb143-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb143-7"><a href="sampling-objects-in-a-dataset.html#cb143-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb143-8"><a href="sampling-objects-in-a-dataset.html#cb143-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb143-9"><a href="sampling-objects-in-a-dataset.html#cb143-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb143-10"><a href="sampling-objects-in-a-dataset.html#cb143-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">&quot;Homeworld&quot;</span>,</span>
<span id="cb143-11"><a href="sampling-objects-in-a-dataset.html#cb143-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb143-12"><a href="sampling-objects-in-a-dataset.html#cb143-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Distribution of homeworlds for sampled dataset&quot;</span></span>
<span id="cb143-13"><a href="sampling-objects-in-a-dataset.html#cb143-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb143-14"><a href="sampling-objects-in-a-dataset.html#cb143-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb143-15"><a href="sampling-objects-in-a-dataset.html#cb143-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust=</span><span class="dv">1</span>)</span>
<span id="cb143-16"><a href="sampling-objects-in-a-dataset.html#cb143-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="demo_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<div id="exercises-3" class="section level3 hasAnchor" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> Exercises<a href="sampling-objects-in-a-dataset.html#exercises-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>What differences do you notice between the distribution of homeworlds in the original dataset and the sampled dataset?</li>
<li>How could you modify <code>slice_sample</code> to randomly sample, but instead of weighting all rows equally, you weight each row’s likelihood of being included in the sample according to the height attribute?
Hint: <code>?slice_sample</code></li>
<li>Adjust the sample proportion parameter and resample. What happens to the distribution of <code>species</code> as you increase or decrease the sample size?</li>
<li>Read the R code. Identify any lines of code that you don’t understand. Use the documentation to figure out what those lines of code are doing.</li>
</ul>
</div>
</div>
<div id="stratified-random-sampling" class="section level2 hasAnchor" number="15.3">
<h2><span class="header-section-number">15.3</span> Stratified random sampling<a href="sampling-objects-in-a-dataset.html#stratified-random-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Stratified sampling can be used in cases where there are predefined groupings of objects.
In stratified sampling, you enforce the level of representation for each group.</p>
<p>For example, we might want to ensure that each species among Star Wars characters is represented in our sample.
There are many ways to implement this, and the particular approach you take will depend on your objective.
In this example, I’ll randomly sample each species independently, guaranteeing that at least one character of each species is represented in our sample.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="sampling-objects-in-a-dataset.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grab the set of species represented in our original dataset</span></span>
<span id="cb144-2"><a href="sampling-objects-in-a-dataset.html#cb144-2" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(starwars<span class="sc">$</span>species))</span>
<span id="cb144-3"><a href="sampling-objects-in-a-dataset.html#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty data frame that we will store our sample</span></span>
<span id="cb144-4"><a href="sampling-objects-in-a-dataset.html#cb144-4" aria-hidden="true" tabindex="-1"></a>stratified_sampled_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb144-5"><a href="sampling-objects-in-a-dataset.html#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">matrix</span>(</span>
<span id="cb144-6"><a href="sampling-objects-in-a-dataset.html#cb144-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol=</span><span class="fu">ncol</span>(starwars),</span>
<span id="cb144-7"><a href="sampling-objects-in-a-dataset.html#cb144-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrow=</span><span class="dv">0</span>,</span>
<span id="cb144-8"><a href="sampling-objects-in-a-dataset.html#cb144-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">dimnames=</span><span class="fu">list</span>(<span class="cn">NULL</span>,<span class="fu">colnames</span>(starwars))</span>
<span id="cb144-9"><a href="sampling-objects-in-a-dataset.html#cb144-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb144-10"><a href="sampling-objects-in-a-dataset.html#cb144-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb144-11"><a href="sampling-objects-in-a-dataset.html#cb144-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (s <span class="cf">in</span> species) {</span>
<span id="cb144-12"><a href="sampling-objects-in-a-dataset.html#cb144-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># First, filter down to the species</span></span>
<span id="cb144-13"><a href="sampling-objects-in-a-dataset.html#cb144-13" aria-hidden="true" tabindex="-1"></a>  species_sample <span class="ot">&lt;-</span> starwars <span class="sc">%&gt;%</span></span>
<span id="cb144-14"><a href="sampling-objects-in-a-dataset.html#cb144-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb144-15"><a href="sampling-objects-in-a-dataset.html#cb144-15" aria-hidden="true" tabindex="-1"></a>      species<span class="sc">==</span>s</span>
<span id="cb144-16"><a href="sampling-objects-in-a-dataset.html#cb144-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb144-17"><a href="sampling-objects-in-a-dataset.html#cb144-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate sample size, guarantee &gt;= 1</span></span>
<span id="cb144-18"><a href="sampling-objects-in-a-dataset.html#cb144-18" aria-hidden="true" tabindex="-1"></a>  sample_size <span class="ot">=</span> <span class="fu">max</span>(</span>
<span id="cb144-19"><a href="sampling-objects-in-a-dataset.html#cb144-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ceiling</span>(<span class="fu">nrow</span>(species_sample)<span class="sc">*</span>sample_proportion),</span>
<span id="cb144-20"><a href="sampling-objects-in-a-dataset.html#cb144-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span></span>
<span id="cb144-21"><a href="sampling-objects-in-a-dataset.html#cb144-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb144-22"><a href="sampling-objects-in-a-dataset.html#cb144-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sample from characters of the current species</span></span>
<span id="cb144-23"><a href="sampling-objects-in-a-dataset.html#cb144-23" aria-hidden="true" tabindex="-1"></a>  species_sample <span class="ot">&lt;-</span> species_sample <span class="sc">%&gt;%</span></span>
<span id="cb144-24"><a href="sampling-objects-in-a-dataset.html#cb144-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(</span>
<span id="cb144-25"><a href="sampling-objects-in-a-dataset.html#cb144-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">n=</span>sample_size,</span>
<span id="cb144-26"><a href="sampling-objects-in-a-dataset.html#cb144-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">replace=</span><span class="cn">FALSE</span></span>
<span id="cb144-27"><a href="sampling-objects-in-a-dataset.html#cb144-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb144-28"><a href="sampling-objects-in-a-dataset.html#cb144-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add sample of this species to larger sample</span></span>
<span id="cb144-29"><a href="sampling-objects-in-a-dataset.html#cb144-29" aria-hidden="true" tabindex="-1"></a>  stratified_sampled_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb144-30"><a href="sampling-objects-in-a-dataset.html#cb144-30" aria-hidden="true" tabindex="-1"></a>    stratified_sampled_data,</span>
<span id="cb144-31"><a href="sampling-objects-in-a-dataset.html#cb144-31" aria-hidden="true" tabindex="-1"></a>    species_sample</span>
<span id="cb144-32"><a href="sampling-objects-in-a-dataset.html#cb144-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb144-33"><a href="sampling-objects-in-a-dataset.html#cb144-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb144-34"><a href="sampling-objects-in-a-dataset.html#cb144-34" aria-hidden="true" tabindex="-1"></a>stratified_sampled_data</span></code></pre></div>
<pre><code>## # A tibble: 44 × 14
##    name        height  mass hair_…¹ skin_…² eye_c…³ birth…⁴ sex   gender homew…⁵
##    &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  
##  1 Ratts Tyer…     79    15 none    grey, … unknown      NA male  mascu… Aleen …
##  2 Dexter Jet…    198   102 none    brown   yellow       NA male  mascu… Ojom   
##  3 Ki-Adi-Mun…    198    82 white   pale    yellow       92 male  mascu… Cerea  
##  4 Mas Amedda     196    NA none    blue    blue         NA male  mascu… Champa…
##  5 Zam Wesell     168    55 blonde  fair, … yellow       NA fema… femin… Zolan  
##  6 R2-D2           96    32 &lt;NA&gt;    white,… red          33 none  mascu… Naboo  
##  7 R5-D4           97    32 &lt;NA&gt;    white,… red          NA none  mascu… Tatooi…
##  8 Sebulba        112    40 none    grey, … orange       NA male  mascu… Malast…
##  9 Wicket Sys…     88    20 brown   brown   brown         8 male  mascu… Endor  
## 10 Poggle the…    183    80 none    green   yellow       NA male  mascu… Geonos…
## # … with 34 more rows, 4 more variables: species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;, and abbreviated variable names
## #   ¹​hair_color, ²​skin_color, ³​eye_color, ⁴​birth_year, ⁵​homeworld</code></pre>
<div id="exercises-4" class="section level3 hasAnchor" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> Exercises<a href="sampling-objects-in-a-dataset.html#exercises-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Graph the distribution of species in the original <code>starwars</code> dataset and in the stratified sample (just like we did for homeworlds in the naive random sample). What differences do you notice? What might be causing those differences?</li>
<li>We specified a sample proportion of 0.2. Why might the size of our stratified sample differ from the size of our random sample?</li>
<li>Read the R code. Identify any lines of code that you don’t understand. Use the documentation to figure out what those lines of code are doing.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dealing-with-missing-values.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="curse-of-dimensionality-demo.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/amlalejini/gvsu-cis635-2023w/tree/main/lecture-material/week-04/sampling.rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
